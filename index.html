<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Biologi Interaktif - SMP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        @keyframes floatLeaves {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .floating-cell {
            animation: float 4s ease-in-out infinite;
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.3;
        }
        
        .floating-leaf {
            animation: floatLeaves 3s linear;
            position: fixed;
            font-size: 2rem;
            pointer-events: none;
            z-index: 1000;
        }
        
        .progress-plant {
            animation: pulse 2s ease-in-out infinite;
        }
        
        .question-card {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f9ff 100%);
            border: 2px solid #10b981;
        }
        
        .option-button {
            transition: all 0.3s ease;
        }
        
        .option-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .correct {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        
        .incorrect {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }
    </style>
</head>
<body class="h-screen bg-gradient-to-br from-green-50 via-blue-50 to-emerald-50 relative overflow-hidden">
    <!-- Floating Background Cells -->
    <div id="floatingCells"></div>
    
    <!-- Main Container -->
    <div class="h-full flex flex-col px-6 py-4 relative z-10 max-w-md mx-auto">
        <!-- Header -->
        <div class="text-center mb-4 flex-shrink-0">
            <h1 class="text-2xl font-bold text-green-800 mb-1">🔬 Kuis Biologi 🧬</h1>
            <p class="text-sm text-blue-700">Jelajahi dunia biologi!</p>
        </div>
        
        <!-- Level Selection Screen -->
        <div id="levelSelection" class="flex-1 flex flex-col">
            <div class="text-center mb-4 flex-shrink-0">
                <h2 class="text-lg font-bold text-green-700 mb-3">🌱 Pilih Tingkat Kesulitan 🌱</h2>
            </div>
            <div class="flex-1 flex flex-col gap-3 justify-center">
                <div class="question-card p-4 rounded-xl cursor-pointer hover:scale-105 transition-transform" onclick="startQuiz('mudah')">
                    <div class="flex items-center">
                        <div class="text-3xl mr-4">🌱</div>
                        <div>
                            <h3 class="text-lg font-bold text-green-700">Mudah</h3>
                            <p class="text-sm text-gray-600">Konsep dasar biologi</p>
                        </div>
                    </div>
                </div>
                <div class="question-card p-4 rounded-xl cursor-pointer hover:scale-105 transition-transform" onclick="startQuiz('sedang')">
                    <div class="flex items-center">
                        <div class="text-3xl mr-4">🌿</div>
                        <div>
                            <h3 class="text-lg font-bold text-green-700">Sedang</h3>
                            <p class="text-sm text-gray-600">Pemahaman mendalam</p>
                        </div>
                    </div>
                </div>
                <div class="question-card p-4 rounded-xl cursor-pointer hover:scale-105 transition-transform" onclick="startQuiz('sulit')">
                    <div class="flex items-center">
                        <div class="text-3xl mr-4">🌳</div>
                        <div>
                            <h3 class="text-lg font-bold text-green-700">Sulit</h3>
                            <p class="text-sm text-gray-600">Tantangan ahli biologi</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-shrink-0 h-8"></div>
        </div>
        
        <!-- Quiz Screen -->
        <div id="quizScreen" class="hidden flex-1 flex flex-col">
            <!-- Progress Bar -->
            <div class="mb-3 flex-shrink-0">
                <div class="flex justify-between items-center mb-1">
                    <span class="text-xs font-medium text-green-700">Kemajuan</span>
                    <span class="text-xs font-medium text-green-700" id="progressText">1/30</span>
                </div>
                <div class="w-full bg-green-200 rounded-full h-2">
                    <div class="bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-500" id="progressBar" style="width: 3.33%"></div>
                </div>
            </div>
            
            <!-- Plant Progress & Score -->
            <div class="flex justify-between items-center mb-4 flex-shrink-0">
                <div class="text-center">
                    <div class="text-4xl progress-plant" id="plantProgress">🌱</div>
                    <p class="text-xs text-green-600 mt-1" id="plantText">Sedang tumbuh!</p>
                </div>
                <div class="bg-white rounded-full px-4 py-2 shadow-lg">
                    <span class="text-sm font-bold text-green-700">Skor: </span>
                    <span class="text-sm font-bold text-blue-600" id="score">0</span>
                    <span class="text-sm text-green-600 ml-1">🏆</span>
                </div>
            </div>
            
            <!-- Question Card -->
            <div class="question-card p-4 rounded-xl mb-4 flex-1 flex flex-col">
                <div class="text-center mb-4 flex-shrink-0">
                    <div class="text-2xl mb-2" id="questionEmoji">🦠</div>
                    <h3 class="text-base font-bold text-green-800" id="questionText"></h3>
                </div>
                
                <div class="flex-1 flex flex-col gap-2 justify-center" id="optionsContainer"></div>
            </div>
            
            <!-- Next Button -->
            <div class="text-center flex-shrink-0 mb-4">
                <button id="nextButton" class="hidden bg-gradient-to-r from-green-500 to-blue-500 text-white px-6 py-2 rounded-full font-bold hover:from-green-600 hover:to-blue-600 transition-all text-sm" onclick="nextQuestion()">
                    Soal Berikutnya 🌿
                </button>
            </div>
        </div>
        
        <!-- Results Screen -->
        <div id="resultsScreen" class="hidden flex-1 flex flex-col">
            <div class="question-card p-6 rounded-xl flex-1 flex flex-col justify-center text-center">
                <div class="text-4xl mb-3">🏆</div>
                <h2 class="text-xl font-bold text-green-800 mb-3">Selamat!</h2>
                <div class="text-5xl mb-4" id="finalPlant">🌳</div>
                
                <!-- Digital Badge -->
                <div class="bg-gradient-to-r from-green-400 to-blue-500 text-white p-4 rounded-xl mb-4 mx-auto">
                    <div class="text-2xl mb-1">🔬🧪🧬</div>
                    <h3 class="text-base font-bold">Ahli Biologi Junior</h3>
                    <p class="text-xs opacity-90">Lencana Digital</p>
                </div>
                
                <div class="text-lg font-bold text-green-700 mb-3">
                    Skor Akhir: <span id="finalScore" class="text-blue-600">0</span>/30
                </div>
                
                <div class="text-sm text-gray-700 mb-4" id="resultMessage"></div>
                
                <div class="flex gap-2 justify-center">
                    <button class="bg-gradient-to-r from-green-500 to-blue-500 text-white px-4 py-2 rounded-full font-bold hover:from-green-600 hover:to-blue-600 transition-all text-sm" onclick="restartQuiz()">
                        Main Lagi 🔄
                    </button>
                    
                    <button class="bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-full font-bold hover:from-blue-600 hover:to-purple-600 transition-all text-sm" onclick="changeDifficulty()">
                        Ganti Tingkat 📚
                    </button>
                </div>
            </div>
            <div class="flex-shrink-0 h-8"></div>
        </div>
    </div>

    <script>
        // Quiz Data
        const quizData = {
            mudah: [
                {emoji: "🦠", question: "Apa unit terkecil dari makhluk hidup?", options: ["Sel", "Jaringan", "Organ", "Organisme"], correct: 0},
                {emoji: "🌱", question: "Proses pembuatan makanan pada tumbuhan disebut?", options: ["Respirasi", "Fotosintesis", "Transpirasi", "Fermentasi"], correct: 1},
                {emoji: "🧬", question: "DNA adalah singkatan dari?", options: ["Deoxyribonucleic Acid", "Deoxyribose Acid", "Deoxy Acid", "Ribonucleic Acid"], correct: 0},
                {emoji: "🦠", question: "Organel yang menghasilkan energi dalam sel adalah?", options: ["Nukleus", "Mitokondria", "Ribosom", "Vakuola"], correct: 1},
                {emoji: "🌿", question: "Zat hijau daun yang berperan dalam fotosintesis adalah?", options: ["Klorofil", "Karotin", "Xantofil", "Antosianin"], correct: 0},
                {emoji: "🐅", question: "Hewan yang termasuk mamalia adalah?", options: ["Ikan", "Burung", "Harimau", "Ular"], correct: 2},
                {emoji: "🦠", question: "Bagian sel yang mengatur keluar masuknya zat adalah?", options: ["Dinding sel", "Membran sel", "Sitoplasma", "Nukleus"], correct: 1},
                {emoji: "🌱", question: "Gas yang dibutuhkan tumbuhan untuk fotosintesis adalah?", options: ["Oksigen", "Nitrogen", "Karbon dioksida", "Hidrogen"], correct: 2},
                {emoji: "🐸", question: "Hewan yang mengalami metamorfosis adalah?", options: ["Kucing", "Katak", "Ikan", "Burung"], correct: 1},
                {emoji: "🧫", question: "Ilmu yang mempelajari tentang sel disebut?", options: ["Histologi", "Sitologi", "Anatomi", "Fisiologi"], correct: 1},
                {emoji: "🦠", question: "Organel yang berfungsi sebagai pusat kendali sel adalah?", options: ["Mitokondria", "Ribosom", "Nukleus", "Lisosom"], correct: 2},
                {emoji: "🌿", question: "Hasil fotosintesis berupa?", options: ["Glukosa dan oksigen", "Air dan CO2", "Protein", "Lemak"], correct: 0},
                {emoji: "🐛", question: "Hewan tidak bertulang belakang disebut?", options: ["Vertebrata", "Invertebrata", "Mamalia", "Reptil"], correct: 1},
                {emoji: "🌱", question: "Bagian tumbuhan yang berfungsi menyerap air adalah?", options: ["Daun", "Batang", "Akar", "Bunga"], correct: 2},
                {emoji: "🦠", question: "Sel tumbuhan memiliki ... yang tidak dimiliki sel hewan", options: ["Nukleus", "Mitokondria", "Dinding sel", "Ribosom"], correct: 2},
                {emoji: "🐟", question: "Ikan bernapas menggunakan?", options: ["Paru-paru", "Insang", "Kulit", "Trakea"], correct: 1},
                {emoji: "🌿", question: "Proses penguapan air melalui daun disebut?", options: ["Fotosintesis", "Respirasi", "Transpirasi", "Osmosis"], correct: 2},
                {emoji: "🦅", question: "Ciri khas burung adalah?", options: ["Berbulu dan bertelur", "Menyusui", "Berdarah dingin", "Hidup di air"], correct: 0},
                {emoji: "🧬", question: "Kromosom terdapat di dalam?", options: ["Sitoplasma", "Mitokondria", "Nukleus", "Ribosom"], correct: 2},
                {emoji: "🌱", question: "Tumbuhan hijau disebut sebagai?", options: ["Konsumen", "Produsen", "Dekomposer", "Predator"], correct: 1},
                {emoji: "🦠", question: "Organel yang berfungsi mencerna zat dalam sel adalah?", options: ["Lisosom", "Ribosom", "Vakuola", "Plastida"], correct: 0},
                {emoji: "🐍", question: "Ular termasuk kelompok hewan?", options: ["Mamalia", "Amfibi", "Reptil", "Aves"], correct: 2},
                {emoji: "🌿", question: "Stomata berfungsi untuk?", options: ["Fotosintesis", "Pertukaran gas", "Menyerap air", "Reproduksi"], correct: 1},
                {emoji: "🦠", question: "Ribosom berfungsi untuk?", options: ["Sintesis protein", "Respirasi", "Fotosintesis", "Pencernaan"], correct: 0},
                {emoji: "🐧", question: "Penguin termasuk kelompok?", options: ["Mamalia", "Reptil", "Aves", "Amfibi"], correct: 2},
                {emoji: "🌱", question: "Bagian bunga yang berfungsi sebagai alat kelamin jantan adalah?", options: ["Putik", "Benang sari", "Mahkota", "Kelopak"], correct: 1},
                {emoji: "🦠", question: "Vakuola pada sel tumbuhan berfungsi untuk?", options: ["Sintesis protein", "Menyimpan air", "Respirasi", "Fotosintesis"], correct: 1},
                {emoji: "🐠", question: "Hewan yang hidup di air dan darat disebut?", options: ["Akuatik", "Terestrial", "Amfibi", "Arboreal"], correct: 2},
                {emoji: "🌿", question: "Kloroplas hanya terdapat pada?", options: ["Sel hewan", "Sel tumbuhan", "Sel bakteri", "Sel jamur"], correct: 1},
                {emoji: "🧬", question: "Sifat yang diturunkan dari induk ke keturunan disebut?", options: ["Adaptasi", "Evolusi", "Hereditas", "Mutasi"], correct: 2}
            ],
            sedang: [
                {emoji: "🦠", question: "Organel yang berperan dalam sintesis lemak adalah?", options: ["RE kasar", "RE halus", "Ribosom", "Lisosom"], correct: 1},
                {emoji: "🌱", question: "Reaksi terang fotosintesis terjadi di?", options: ["Stroma", "Tilakoid", "Sitoplasma", "Nukleus"], correct: 1},
                {emoji: "🧬", question: "Jumlah kromosom manusia normal adalah?", options: ["44", "46", "48", "50"], correct: 1},
                {emoji: "🦠", question: "Proses pembelahan sel yang menghasilkan gamet disebut?", options: ["Mitosis", "Meiosis", "Amitosis", "Sitokinesis"], correct: 1},
                {emoji: "🌿", question: "Enzim yang memecah CO2 dalam fotosintesis adalah?", options: ["Rubisco", "Katalase", "Amilase", "Pepsin"], correct: 0},
                {emoji: "🐆", question: "Sistem klasifikasi modern menggunakan berapa kingdom?", options: ["3", "5", "6", "7"], correct: 2},
                {emoji: "🦠", question: "Fase mitosis dimana kromosom berjajar di tengah sel adalah?", options: ["Profase", "Metafase", "Anafase", "Telofase"], correct: 1},
                {emoji: "🌱", question: "Faktor yang TIDAK mempengaruhi fotosintesis adalah?", options: ["Cahaya", "CO2", "Suhu", "Kelembaban tanah"], correct: 3},
                {emoji: "🧫", question: "Bakteri yang dapat melakukan fotosintesis adalah?", options: ["E. coli", "Sianobakteri", "Streptococcus", "Lactobacillus"], correct: 1},
                {emoji: "🦠", question: "Organel yang mengandung DNA selain nukleus adalah?", options: ["Ribosom", "Lisosom", "Mitokondria", "Vakuola"], correct: 2},
                {emoji: "🌿", question: "Reaksi gelap fotosintesis disebut juga siklus?", options: ["Krebs", "Calvin", "Glikolisis", "Elektron"], correct: 1},
                {emoji: "🐸", question: "Metamorfosis tidak sempurna terjadi pada?", options: ["Kupu-kupu", "Katak", "Belalang", "Nyamuk"], correct: 2},
                {emoji: "🦠", question: "Sel yang tidak memiliki membran inti disebut?", options: ["Eukariot", "Prokariot", "Unisel", "Multisel"], correct: 1},
                {emoji: "🌱", question: "Hormon yang mengatur pertumbuhan tumbuhan adalah?", options: ["Insulin", "Auksin", "Adrenalin", "Tiroksin"], correct: 1},
                {emoji: "🧬", question: "Proses pembentukan RNA dari DNA disebut?", options: ["Transkripsi", "Translasi", "Replikasi", "Mutasi"], correct: 0},
                {emoji: "🦠", question: "Organel yang berperan dalam detoksifikasi adalah?", options: ["Mitokondria", "RE halus", "Ribosom", "Lisosom"], correct: 1},
                {emoji: "🌿", question: "Tumbuhan C4 memiliki keunggulan dalam kondisi?", options: ["Dingin", "Panas dan kering", "Lembab", "Gelap"], correct: 1},
                {emoji: "🐋", question: "Mamalia yang hidup di laut adalah?", options: ["Hiu", "Paus", "Gurita", "Ubur-ubur"], correct: 1},
                {emoji: "🦠", question: "Proses fagositosis dilakukan oleh?", options: ["Sel darah merah", "Sel darah putih", "Trombosit", "Plasma"], correct: 1},
                {emoji: "🌱", question: "Xilem berfungsi mengangkut?", options: ["Gula", "Air dan mineral", "Oksigen", "Protein"], correct: 1},
                {emoji: "🧬", question: "Mutasi yang terjadi pada sel kelamin disebut?", options: ["Somatik", "Germinal", "Kromosom", "Gen"], correct: 1},
                {emoji: "🦠", question: "Tahap respirasi yang menghasilkan ATP paling banyak adalah?", options: ["Glikolisis", "Siklus Krebs", "Transport elektron", "Fermentasi"], correct: 2},
                {emoji: "🌿", question: "Floem berfungsi mengangkut?", options: ["Air", "Mineral", "Hasil fotosintesis", "Oksigen"], correct: 2},
                {emoji: "🐨", question: "Hewan yang melahirkan dalam kantong disebut?", options: ["Plasental", "Marsupial", "Monotrem", "Ovipar"], correct: 1},
                {emoji: "🦠", question: "Enzim yang berperan dalam replikasi DNA adalah?", options: ["RNA polimerase", "DNA polimerase", "Ligase", "Helikase"], correct: 1},
                {emoji: "🌱", question: "Gerak tumbuhan menuju cahaya disebut?", options: ["Fototropisme", "Geotropisme", "Hidrotropisme", "Tigmotropisme"], correct: 0},
                {emoji: "🧫", question: "Virus hanya dapat berkembang biak di dalam?", options: ["Air", "Udara", "Sel hidup", "Tanah"], correct: 2},
                {emoji: "🦠", question: "Organel yang berperan dalam pembentukan lisosom adalah?", options: ["RE kasar", "Badan Golgi", "Mitokondria", "Ribosom"], correct: 1},
                {emoji: "🌿", question: "Tumbuhan yang dapat hidup tanpa tanah disebut?", options: ["Hidrofit", "Epifit", "Xerofit", "Halofit"], correct: 1},
                {emoji: "🧬", question: "Kode genetik terdiri dari ... basa nitrogen", options: ["2", "3", "4", "5"], correct: 1}
            ],
            sulit: [
                {emoji: "🦠", question: "Kompleks protein yang berperan dalam fotosistem II adalah?", options: ["Sitokrom b6f", "ATP sintase", "PSII", "Ferredoksin"], correct: 2},
                {emoji: "🌱", question: "Jalur metabolisme C4 pertama kali ditemukan pada tumbuhan?", options: ["Jagung", "Padi", "Gandum", "Kedelai"], correct: 0},
                {emoji: "🧬", question: "Enzim yang berperan dalam perbaikan DNA adalah?", options: ["Polimerase", "Ligase", "Exonuklease", "Semua benar"], correct: 3},
                {emoji: "🦠", question: "Proses autofagi dilakukan oleh organel?", options: ["Lisosom", "Peroksisom", "Proteasom", "Autophagosom"], correct: 0},
                {emoji: "🌿", question: "Senyawa yang berperan sebagai akseptor CO2 dalam siklus Calvin adalah?", options: ["RuBP", "PGA", "G3P", "RuBisCO"], correct: 0},
                {emoji: "🧫", question: "Bakteri yang dapat memfiksasi nitrogen adalah?", options: ["Rhizobium", "Azotobacter", "Clostridium", "Semua benar"], correct: 3},
                {emoji: "🦠", question: "Tahap siklus sel dimana DNA direplikasi adalah?", options: ["G1", "S", "G2", "M"], correct: 1},
                {emoji: "🌱", question: "Hormon yang menghambat perkecambahan biji adalah?", options: ["Giberelin", "Sitokinin", "ABA", "Etilen"], correct: 2},
                {emoji: "🧬", question: "Proses splicing terjadi pada?", options: ["DNA", "mRNA", "tRNA", "rRNA"], correct: 1},
                {emoji: "🦠", question: "Protein motor yang bergerak sepanjang mikrotubul adalah?", options: ["Aktin", "Miosin", "Kinesin", "Tubulin"], correct: 2},
                {emoji: "🌿", question: "Tumbuhan CAM membuka stomatanya pada?", options: ["Siang hari", "Malam hari", "Pagi hari", "Sore hari"], correct: 1},
                {emoji: "🐙", question: "Sistem saraf cephalopoda paling kompleks terdapat pada?", options: ["Cumi-cumi", "Gurita", "Nautilus", "Siput"], correct: 1},
                {emoji: "🦠", question: "Proses yang menghasilkan variasi genetik dalam meiosis adalah?", options: ["Crossing over", "Independent assortment", "Nondisjunction", "A dan B benar"], correct: 3},
                {emoji: "🌱", question: "Fitohormon yang berperan dalam senescence adalah?", options: ["Auksin", "Sitokinin", "Etilen", "Giberelin"], correct: 2},
                {emoji: "🧬", question: "Kodon stop dalam kode genetik adalah?", options: ["UAG, UAA, UGA", "AUG, UUG, CUG", "GGG, CCC, AAA", "UUU, CCC, GGG"], correct: 0},
                {emoji: "🦠", question: "Organel yang berperan dalam β-oksidasi asam lemak adalah?", options: ["Mitokondria", "Peroksisom", "RE halus", "Sitoplasma"], correct: 1},
                {emoji: "🌿", question: "Enzim yang mengkatalisis fiksasi CO2 pada tumbuhan C3 adalah?", options: ["PEP karboksilase", "RuBisCO", "Malat dehidrogenase", "Piruvat kinase"], correct: 1},
                {emoji: "🧫", question: "Prion adalah agen infeksi yang terdiri dari?", options: ["DNA", "RNA", "Protein", "Lipid"], correct: 2},
                {emoji: "🦠", question: "Kompleks protein yang berperan dalam apoptosis adalah?", options: ["Bcl-2", "p53", "Caspase", "Semua benar"], correct: 3},
                {emoji: "🌱", question: "Jalur sinyal yang mengatur tropisme pada tumbuhan melibatkan?", options: ["Auksin", "Ca2+", "cAMP", "A dan B benar"], correct: 3},
                {emoji: "🧬", question: "Mekanisme epigenetik yang mengatur ekspresi gen adalah?", options: ["Metilasi DNA", "Modifikasi histon", "microRNA", "Semua benar"], correct: 3},
                {emoji: "🦠", question: "Protein yang berperan dalam checkpoint siklus sel adalah?", options: ["Siklin", "CDK", "p21", "Semua benar"], correct: 3},
                {emoji: "🌿", question: "Metabolit sekunder yang berperan dalam pertahanan tumbuhan adalah?", options: ["Alkaloid", "Terpenoid", "Fenol", "Semua benar"], correct: 3},
                {emoji: "🐚", question: "Mollusca yang memiliki sistem sirkulasi tertutup adalah?", options: ["Gastropoda", "Bivalvia", "Cephalopoda", "Scaphopoda"], correct: 2},
                {emoji: "🦠", question: "Proses yang mengatur homeostasis kalsium intraseluler adalah?", options: ["Pompa Ca2+-ATPase", "Kanal Ca2+", "Protein pengikat Ca2+", "Semua benar"], correct: 3},
                {emoji: "🌱", question: "Mekanisme resistensi herbisida pada tumbuhan transgenik melibatkan?", options: ["Detoksifikasi enzim", "Modifikasi target", "Transportasi aktif", "Semua benar"], correct: 3},
                {emoji: "🧬", question: "Teknik CRISPR-Cas9 bekerja dengan cara?", options: ["Memotong DNA", "Mengedit gen", "Mengaktifkan gen", "Semua benar"], correct: 3},
                {emoji: "🦠", question: "Organel yang berperan dalam sintesis steroid adalah?", options: ["RE kasar", "RE halus", "Mitokondria", "Peroksisom"], correct: 1},
                {emoji: "🌿", question: "Adaptasi tumbuhan gurun untuk menghemat air meliputi?", options: ["Daun tebal", "Stomata sedikit", "Akar panjang", "Semua benar"], correct: 3},
                {emoji: "🧫", question: "Mekanisme resistensi antibiotik pada bakteri dapat melalui?", options: ["Mutasi gen", "Transfer plasmid", "Produksi enzim", "Semua benar"], correct: 3}
            ]
        };
        
        let currentLevel = '';
        let currentQuestionIndex = 0;
        let score = 0;
        let questions = [];
        let answered = false;
        
        // Initialize floating cells
        function createFloatingCells() {
            const container = document.getElementById('floatingCells');
            const cells = ['🔬', '🦠', '🧫', '🧬'];
            
            for (let i = 0; i < 15; i++) {
                const cell = document.createElement('div');
                cell.className = 'floating-cell';
                cell.textContent = cells[Math.floor(Math.random() * cells.length)];
                cell.style.left = Math.random() * 100 + '%';
                cell.style.top = Math.random() * 100 + '%';
                cell.style.animationDelay = Math.random() * 4 + 's';
                cell.style.animationDuration = (3 + Math.random() * 4) + 's';
                container.appendChild(cell);
            }
        }
        
        // Start quiz with selected difficulty
        function startQuiz(level) {
            currentLevel = level;
            questions = [...quizData[level]];
            currentQuestionIndex = 0;
            score = 0;
            answered = false;
            
            document.getElementById('levelSelection').classList.add('hidden');
            document.getElementById('quizScreen').classList.remove('hidden');
            
            showQuestion();
        }
        
        // Show current question
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('questionEmoji').textContent = question.emoji;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('progressText').textContent = `${currentQuestionIndex + 1}/30`;
            document.getElementById('progressBar').style.width = `${((currentQuestionIndex + 1) / 30) * 100}%`;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-button w-full p-3 text-left bg-white border-2 border-green-200 rounded-lg hover:border-green-400 transition-all text-sm';
                button.textContent = option;
                button.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('nextButton').classList.add('hidden');
            answered = false;
            
            updatePlantProgress();
        }
        
        // Handle answer selection
        function selectAnswer(selectedIndex) {
            if (answered) return;
            
            answered = true;
            const question = questions[currentQuestionIndex];
            const buttons = document.querySelectorAll('.option-button');
            
            buttons.forEach((button, index) => {
                if (index === question.correct) {
                    button.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    button.classList.add('incorrect');
                }
                button.disabled = true;
            });
            
            if (selectedIndex === question.correct) {
                score++;
                document.getElementById('score').textContent = score;
                createFloatingLeaves();
            }
            
            document.getElementById('nextButton').classList.remove('hidden');
        }
        
        // Create floating leaves animation
        function createFloatingLeaves() {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const leaf = document.createElement('div');
                    leaf.className = 'floating-leaf';
                    leaf.textContent = '🍃';
                    leaf.style.left = Math.random() * 100 + '%';
                    document.body.appendChild(leaf);
                    
                    setTimeout(() => {
                        leaf.remove();
                    }, 3000);
                }, i * 200);
            }
        }
        
        // Update plant progress based on score
        function updatePlantProgress() {
            const progress = Math.floor((score / 30) * 3);
            const plantElement = document.getElementById('plantProgress');
            const plantText = document.getElementById('plantText');
            
            if (progress === 0) {
                plantElement.textContent = '🌱';
                plantText.textContent = 'Sedang tumbuh!';
            } else if (progress === 1) {
                plantElement.textContent = '🌿';
                plantText.textContent = 'Berkembang pesat!';
            } else {
                plantElement.textContent = '🌳';
                plantText.textContent = 'Sudah besar!';
            }
        }
        
        // Move to next question
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= 30) {
                showResults();
            } else {
                showQuestion();
            }
        }
        
        // Show final results
        function showResults() {
            document.getElementById('quizScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            document.getElementById('finalScore').textContent = score;
            
            let resultMessage = '';
            let finalPlant = '';
            
            if (score >= 25) {
                resultMessage = '🌟 Luar biasa! Anda adalah ahli biologi sejati!';
                finalPlant = '🌳';
            } else if (score >= 20) {
                resultMessage = '👏 Bagus sekali! Pengetahuan biologi Anda sangat baik!';
                finalPlant = '🌿';
            } else if (score >= 15) {
                resultMessage = '👍 Cukup baik! Terus belajar untuk menjadi lebih baik!';
                finalPlant = '🌱';
            } else {
                resultMessage = '💪 Jangan menyerah! Belajar lagi dan coba sekali lagi!';
                finalPlant = '🌱';
            }
            
            document.getElementById('resultMessage').textContent = resultMessage;
            document.getElementById('finalPlant').textContent = finalPlant;
            
            // Celebration animation
            setTimeout(() => {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        createFloatingLeaves();
                    }, i * 100);
                }
            }, 500);
        }
        
        // Restart quiz with same difficulty
        function restartQuiz() {
            startQuiz(currentLevel);
            document.getElementById('resultsScreen').classList.add('hidden');
        }
        
        // Change difficulty level
        function changeDifficulty() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('levelSelection').classList.remove('hidden');
        }
        
        // Initialize the app
        createFloatingCells();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e4b8d602cafdf7',t:'MTc1NzczNTg2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
